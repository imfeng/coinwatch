(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(t,e,a){t.exports=a(395)},166:function(t,e,a){},191:function(t,e){},390:function(t,e,a){},395:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),c=a(150),i=a.n(c),o=(a(166),a(159)),l=a(24),r=a(151),h=a(152),d=a(153),u=a(158),b=a(154),m=a(160),v=a(155),p=a.n(v),k=a(81),f=a.n(k),y=a(156),g=a(157),O=a(82),j=a.n(O),C=(a(390),{isActive:!0,tvol:0,selected:{"4h":"active"},isLive:!1,socket:null,nr:"",period:"",periodFormatted:"",totalCoins:0}),E=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(u.a)(this,Object(b.a)(e).call(this,t))).connectSocket=function(t){var e=p()("http://localhost:3231");a.setState({socket:e}),"string"!==typeof t&&a.setState({isLive:!a.state.isLive}),e.on("retrieve",function(t){a.handleRes(t,a.state.isLive)})},a.handleRes=function(t,e){if(Object.keys(t[t.symbol]).length>3){var n=Object.keys(t[t.symbol]).slice(-3),s=n.reduce(function(e,a,n){return e[a]=t[t.symbol][a],e},{});if(Object.keys(s).length>2){var c,i=Math.abs(n[n.length-1]-n[n.length-2])/36e5;.08333333333333333==i&&(c="5m"),.25==i&&(c="15m"),.5==i&&(c="30m"),1==i&&(c="1h"),4==i&&(c="4h"),8==i&&(c="8h"),24==i&&(c="1d"),168==i&&(c="1w"),744==i&&(c="1M");var o=+s[n[n.length-(e?1:2)]].volume,h=+s[n[n.length-(e?2:3)]].volume,d=+s[n[n.length-(e?1:2)]].open,u=+s[n[n.length-(e?1:2)]].close,b=d<u?u/d*100-100:100-d/u*100,m=Math.abs(n[n.length-1]-n[n.length-2])/36e5,v=o&&h?(o/h).toFixed(3):0,p=Object.keys(a.state).filter(function(t){return!Object.keys(C).includes(t)});a.setState(Object(l.a)({nr:t.nr,totalCoins:p.length,period:i,periodFormatted:c},t.symbol,Object(r.a)({},s,{time:m,currVol:o,prevVol:h,change:v,prch:b.toFixed(2)})));var k=Object.keys(a.state).filter(function(t,e){return a.state[t].time!=a.state.period&&-1==Object.keys(C).indexOf(t)});k.filter(function(t){return-1==Object.keys(C).indexOf(t)}),Object.keys(a.state).filter(function(t){return k.includes(t)});Object.keys(a.state).length>=a.state.nr+Object.keys(C).length&&!k.length&&Object.keys(a.state.selected)[0]===a.state.periodFormatted&&(a.setState({isActive:!0}),a.state.socket.disconnect()),Object.keys(a.state).length>=a.state.nr+Object.keys(C).length&&"744"==a.state.period&&4==k.length&&Object.keys(a.state.selected)[0]===a.state.periodFormatted&&(console.log("if2"),a.setState({isActive:!0}),a.state.socket.disconnect())}}},a.computeColor=function(t){return a.state[t]&&a.state[t].prch<0?a.state[t].prch<-3?a.state[t].prch<-6?a.state[t].prch<-15?"#DB4B38":"#E97253":"#EE9778":"#fcd3bf":a.state[t]&&a.state[t].prch>3?a.state[t].prch>10?a.state[t].prch>15?"#5FA964":"#ACD6A0":"#CDE7C2":"#e4efdc"},a.handleClick=function(t){a.connectSocket(t.target.value),a.setState({selected:Object(l.a)({},t.target.value,"active"),isActive:!1}),f.a.post("http://localhost:3231",{timestamp:t.target.value}).then(function(t){}).catch(function(t){})},a.baseState=a.state,a.state=C,a}return Object(m.a)(e,t),Object(d.a)(e,[{key:"getClearState",value:function(){return{foo:void 0}}},{key:"componentDidMount",value:function(){var t=this.setState.bind(this);f.a.post("http://localhost:3231",{timestamp:"4h"}).then(function(e){t({selected:{"4h":"active"}})}).catch(function(t){}),this.connectSocket("4h")}},{key:"shouldComponentUpdate",value:function(t,e){var a=Object.keys(e),n=Object.keys(this.state);a.indexOf("BTCUSDT"),n.indexOf("BTCUSDT");return!0}},{key:"componentDidUpdate",value:function(t,e,a){var n=this;Object.keys(this.state.selected)[0]!==this.state.periodFormatted||this.state.socket.connected||this.connectSocket();e.period,e.nr,e.isActive,e.selected,e.socket,e.isLive,e.tvol;var s=Object(o.a)(e,["period","nr","isActive","selected","socket","isLive","tvol"]);Object.keys(s).filter(function(t,e){return s[t].time!==n.state.period});this.state.totalCoins>100&&Object(y.isEqual)(e,this.state)&&this.state.socket.disconnect();var c=Object.keys(this.state);Object.keys(this.state[c[c.length-1]]);c.length;var i=new Date(15422868e5),l=new Date(15422832e5),r=(Math.abs(i-l),Object.keys(this.state).reduce(function(t,e,a){return n.state[e].hasOwnProperty("currVol")&&(t+=n.state[e].currVol),t},0));this.state.tvol!==r&&this.setState({tvol:r})}},{key:"render",value:function(){var t=this,e=Object.keys(this.state).map(function(e){var a=t.computeColor(e);return{name:"USDT"==e.slice(-4)?e.slice(0,-4):e.slice(0,-3),color:a,loc:t.state[e]&&+t.state[e].change>0?Math.round(100*t.state[e].change)/100:0,prch:t.state[e]&&t.state[e].prch,time:t.state[e]&&t.state[e].time}}).filter(function(e){return e.time==t.state.period});return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("div",{className:"btn-group","data-toggle":"buttons",role:"group"},s.a.createElement("button",{value:"Live",className:"btn btn-danger ".concat(this.state.isLive?"active":null)},"Live",s.a.createElement("div",{style:{color:"#ffffff"},className:"la-ball-scale-multiple la-dark la-sm"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))),s.a.createElement("button",{disabled:!this.state.isActive,value:"5m",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["5m"])},"5m"),s.a.createElement("button",{disabled:!this.state.isActive,value:"15m",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["15m"])},"15m"),s.a.createElement("button",{disabled:!this.state.isActive,value:"30m",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["30m"])},"30m"),s.a.createElement("button",{disabled:!this.state.isActive,value:"1h",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["1h"])},"1H"),s.a.createElement("button",{disabled:!this.state.isActive,value:"4h",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["4h"])},"4H"),s.a.createElement("button",{disabled:!this.state.isActive,value:"8h",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["8h"])},"8H"),s.a.createElement("button",{disabled:!this.state.isActive,value:"1d",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["1d"])},"1D"),s.a.createElement("button",{disabled:!this.state.isActive,value:"1w",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["1w"])},"1W"),s.a.createElement("button",{disabled:!this.state.isActive,value:"1M",onClick:this.handleClick,type:"button",className:"btn btn-secondary ".concat(this.state.selected["1M"])},"1M"))),this.state.isActive?null:s.a.createElement(j.a,{fadeIn:"quarter",className:"spinner"}),Object.keys(this.state).length>110?s.a.createElement(g.ResponsiveTreeMap,{root:{name:"crypto-signal",color:"#f3f9ef",children:e},identity:"name",value:"loc",innerPadding:3,outerPadding:4,label:function(t){return"".concat(t.name," ").concat(t.prch?t.prch+"% "+t.time:"")},labelSkipSize:8,labelTextColor:"inherit:darker(3.2)",colorBy:function(t){return t.color},borderWidth:1,borderColor:"inherit:darker(2.3)",motionDamping:35,motionStiffness:300,animate:!1,tooltip:function(t){return s.a.createElement("p",{style:{color:t.data.color}}," ","".concat(t.data.name," ").concat(t.data.loc?t.data.loc+"x":"")," ")},theme:{tooltip:{container:{color:"#fff",background:"#333"}}}}):s.a.createElement(j.a,{fadeIn:"quarter",className:"spinner"}))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[161,2,1]]]);
//# sourceMappingURL=main.1ba6ef09.chunk.js.map